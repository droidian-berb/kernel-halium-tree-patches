From 987d5b336e198af251ed67b494fcdd853c3cb073 Mon Sep 17 00:00:00 2001
From: verevka <verevka86@gmail.com>
Date: Mon, 13 Sep 2021 00:06:09 +0300
Subject: [PATCH 09/21] vayu_user_defconfig: Add lxc-checkconfig recommendation

---
 arch/arm64/configs/vayu_user_defconfig | 63 +++++++++++++++++++++++++-
 1 file changed, 62 insertions(+), 1 deletion(-)

diff --git a/arch/arm64/configs/vayu_user_defconfig b/arch/arm64/configs/vayu_user_defconfig
index 752195986d84..a699ab98cb02 100644
--- a/arch/arm64/configs/vayu_user_defconfig
+++ b/arch/arm64/configs/vayu_user_defconfig
@@ -24,6 +24,8 @@ CONFIG_LOG_CPU_MAX_BUF_SHIFT=17
 CONFIG_MEMCG=y
 CONFIG_MEMCG_SWAP=y
 CONFIG_BLK_CGROUP=y
+CONFIG_CGROUP_DEBUG=y
+CONFIG_CGROUP_WRITEBACK=y
 CONFIG_CGROUP_FREEZER=y
 CONFIG_CPUSETS=y
 CONFIG_CGROUP_CPUACCT=y
@@ -35,7 +37,9 @@ CONFIG_SCHED_AUTOGROUP=y
 # CONFIG_SCHED_TUNE is not set
 CONFIG_DEFAULT_USE_ENERGY_AWARE=y
 CONFIG_BLK_DEV_INITRD=y
-# CONFIG_RD_XZ is not set
+CONFIG_RD_BZIP2=y
+CONFIG_RD_LZMA=y
+CONFIG_RD_XZ=y
 # CONFIG_RD_LZO is not set
 # CONFIG_RD_LZ4 is not set
 CONFIG_CC_OPTIMIZE_FOR_SIZE=y
@@ -143,6 +147,7 @@ CONFIG_IPV6_VTI=y
 CONFIG_IPV6_MULTIPLE_TABLES=y
 CONFIG_IPV6_SUBTREES=y
 CONFIG_NETFILTER=y
+CONFIG_BRIDGE_NETFILTER=y
 CONFIG_NF_CONNTRACK=y
 CONFIG_NF_CONNTRACK_SECMARK=y
 CONFIG_NF_CONNTRACK_EVENTS=y
@@ -311,6 +316,7 @@ CONFIG_BONDING=y
 CONFIG_DUMMY=y
 CONFIG_TUN=y
 CONFIG_VETH=y
+CONFIG_RAW_DRIVER=y
 CONFIG_SKY2=y
 CONFIG_RMNET=y
 CONFIG_SMSC911X=y
@@ -794,7 +800,11 @@ CONFIG_CGROUP_MEM_RES_CTLR_SWAP=y
 CONFIG_CGROUP_MEM_RES_CTLR_KMEM=y
 CONFIG_RTC_DRV_CMOS=y
 CONFIG_CGROUP_PERF=y
+CONFIG_CGROUP_PIDS=y
 CONFIG_SYSVIPC=y
+CONFIG_SYSVIPC_SYSCTL=y
+CONFIG_POSIX_MQUEUE=y
+CONFIG_POSIX_MQUEUE_SYSCTL=y
 CONFIG_CGROUPS=y
 CONFIG_UTS_NS=y
 CONFIG_IPC_NS=y
@@ -890,6 +900,7 @@ CONFIG_IP6_NF_QUEUE=y
 CONFIG_IP6_NF_SECURITY=y
 CONFIG_IP6_NF_TARGET_HL=y
 CONFIG_IP6_NF_TARGET_REJECT_SKERR=y
+CONFIG_IP6_NF_NAT=y
 CONFIG_DNS_RESOLVER=y
 CONFIG_IOSCHED_DEADLINE=y
 CONFIG_SUSPEND_TIME=y
@@ -902,6 +913,7 @@ CONFIG_TIMERFD=y
 # CONFIG_CGROUP_SCHEDTUNE is not set
 # CONFIG_NETPRIO_CGROUP is not set
 CONFIG_NET_CLS_CGROUP=y
+CONFIG_CGROUP_NET_CLASSID=y
 # CONFIG_FW_LOADER_USER_HELPER is not set
 # CONFIG_ANDROID_PARANOID_NETWORK is not set
 # CONFIG_USB_CONFIGFS_QCRNDIS is not set
@@ -934,6 +946,7 @@ CONFIG_NET_CLS_CGROUP=y
 # CONFIG_VT_HW_CONSOLE_BINDING is not set
 # CONFIG_FRAMEBUFFER_CONSOLE is not set
 # CONFIG_SPEAKUP is not set
+CONFIG_CIFS=y
 # CONFIG_CIFS_UPCALL is not set
 # CONFIG_CIFS_DFS_UPCALL is not set
 # CONFIG_KGDB is not set
@@ -948,3 +961,51 @@ CONFIG_DEFAULT_MMAP_MIN_ADDR=32768
 CONFIG_DEFAULT_IOSCHED="deadline"
 CONFIG_EVM_HMAC_VERSION=2
 CONFIG_DEFAULT_SECURITY_APPARMOR=y
+
+CONFIG_SQUASHFS=y
+CONFIG_SQUASHFS_DECOMP_SINGLE=y
+# CONFIG_SQUASHFS_DECOMP_MULTI is not set
+CONFIG_SQUASHFS_XATTR=y
+CONFIG_SQUASHFS_ZLIB=y
+# CONFIG_SQUASHFS_LZ4 is not set
+CONFIG_SQUASHFS_LZO=y
+CONFIG_SQUASHFS_XZ=y
+# CONFIG_SQUASHFS_4K_DEVBLK_SIZE is not set
+# CONFIG_SQUASHFS_EMBEDDED is not set
+CONFIG_SQUASHFS_FRAGMENT_CACHE_SIZE=3
+CONFIG_SQUASHFS_FILE_DIRECT=y
+CONFIG_MISC_FILESYSTEMS=y
+
+CONFIG_XOR_BLOCKS=y
+CONFIG_RAID6_PQ=y
+CONFIG_LZ4_DECOMPRESS=y
+CONFIG_XZ_DEC=y
+CONFIG_XZ_DEC_X86=y
+CONFIG_XZ_DEC_POWERPC=y
+CONFIG_XZ_DEC_IA64=y
+CONFIG_XZ_DEC_ARM=y
+CONFIG_XZ_DEC_ARMTHUMB=y
+CONFIG_XZ_DEC_SPARC=y
+CONFIG_XZ_DEC_BCJ=y
+# CONFIG_XZ_DEC_TEST is not set
+CONFIG_DECOMPRESS_BZIP2=y
+CONFIG_DECOMPRESS_LZMA=y
+CONFIG_DECOMPRESS_XZ=y
+
+# LXC
+# --- Checkpoint/Restore ---
+CONFIG_CHECKPOINT_RESTORE=y
+CONFIG_NETLINK_DIAG=y
+CONFIG_PACKET_DIAG=y
+CONFIG_UNIX_DIAG=y
+CONFIG_INET_DIAG=y
+CONFIG_EVENTFD=y
+CONFIG_MACVLAN=y
+CONFIG_VLAN=y
+CONFIG_VLAN_8021Q=y
+CONFIG_CGROUP_NET_PRIO=y
+
+# --- Misc ---
+CONFIG_IP6_NF_TARGET_MASQUERADE=y 
+CONFIG_NF_NAT_IPV6=y
+CONFIG_NF_NAT_IPV4=y
-- 
2.39.2

