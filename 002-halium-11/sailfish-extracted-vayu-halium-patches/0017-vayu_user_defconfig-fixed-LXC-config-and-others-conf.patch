From dd9d39d21e87a04f04947de67f88a4dab9b2f4d1 Mon Sep 17 00:00:00 2001
From: Verevka <verevka86@gmail.com>
Date: Thu, 20 Jan 2022 11:17:06 +0300
Subject: [PATCH 17/35] vayu_user_defconfig: fixed LXC config and others
 configs

---
 arch/arm64/configs/vayu_user_defconfig | 39 ++++++++++++++++++++++++--
 1 file changed, 36 insertions(+), 3 deletions(-)

diff --git a/arch/arm64/configs/vayu_user_defconfig b/arch/arm64/configs/vayu_user_defconfig
index b1e95851fa09..464b4f4ab97d 100644
--- a/arch/arm64/configs/vayu_user_defconfig
+++ b/arch/arm64/configs/vayu_user_defconfig
@@ -89,7 +89,7 @@ CONFIG_RANDOMIZE_BASE=y
 # CONFIG_BUILD_ARM64_APPENDED_DTB_IMAGE is not set
 CONFIG_BUILD_ARM64_UNCOMPRESSED_KERNEL=y
 CONFIG_KRYO_PMU_WORKAROUND=y
-# CONFIG_CORE_DUMP_DEFAULT_ELF_HEADERS is not set
+CONFIG_CORE_DUMP_DEFAULT_ELF_HEADERS=y
 CONFIG_BUILD_ARM64_DT_OVERLAY=y
 CONFIG_COMPAT=y
 CONFIG_COMPAT_VDSO=y
@@ -127,6 +127,7 @@ CONFIG_INET_AH=y
 CONFIG_INET_ESP=y
 CONFIG_INET_IPCOMP=y
 CONFIG_INET_UDP_DIAG=y
+CONFIG_INET_DIAG=y
 CONFIG_INET_DIAG_DESTROY=y
 CONFIG_TCP_CONG_ADVANCED=y
 CONFIG_TCP_CONG_BBR=y
@@ -154,11 +155,13 @@ CONFIG_NF_CONNTRACK_PPTP=y
 CONFIG_NF_CONNTRACK_SANE=y
 CONFIG_NF_CONNTRACK_TFTP=y
 CONFIG_NF_CT_NETLINK=y
+CONFIG_NETFILTER_XT_SET=y
 CONFIG_NETFILTER_XT_TARGET_CLASSIFY=y
 CONFIG_NETFILTER_XT_TARGET_CONNMARK=y
 CONFIG_NETFILTER_XT_TARGET_CONNSECMARK=y
 CONFIG_NETFILTER_XT_TARGET_DSCP=y
 CONFIG_NETFILTER_XT_TARGET_IDLETIMER=y
+CONFIG_NETFILTER_XT_TARGET_HL=y
 CONFIG_NETFILTER_XT_TARGET_HARDIDLETIMER=y
 CONFIG_NETFILTER_XT_TARGET_LOG=y
 CONFIG_NETFILTER_XT_TARGET_MARK=y
@@ -208,6 +211,7 @@ CONFIG_IP_NF_MATCH_RPFILTER=y
 CONFIG_IP_NF_MATCH_TTL=y
 CONFIG_IP_NF_FILTER=y
 CONFIG_IP_NF_TARGET_REJECT=y
+CONFIG_IP_NF_TARGET_TTL=y
 CONFIG_IP_NF_NAT=y
 CONFIG_IP_NF_TARGET_MASQUERADE=y
 CONFIG_IP_NF_TARGET_NETMAP=y
@@ -689,7 +693,6 @@ CONFIG_F2FS_FS_ENCRYPTION=y
 CONFIG_FS_ENCRYPTION_INLINE_CRYPT=y
 CONFIG_FS_VERITY=y
 CONFIG_FS_VERITY_BUILTIN_SIGNATURES=y
-CONFIG_ANDROID_BINDER_DEVICES="binder,hwbinder,vndbinder,puddlejumper,vndpuddlejumper"
 CONFIG_QUOTA=y
 CONFIG_QUOTA_NETLINK_INTERFACE=y
 CONFIG_QFMT_V2=y
@@ -798,6 +801,7 @@ CONFIG_DEVTMPFS_MOUNT=y
 CONFIG_FANOTIFY=y
 CONFIG_IPC_NS=y
 CONFIG_LBDAF=y
+CONFIG_NETFILTER_ADVANCED=y
 CONFIG_NETFILTER_NETLINK_ACCT=y
 CONFIG_NETFILTER_XT_MATCH_NFACCT=y
 CONFIG_NETFILTER_XT_MATCH_QTAGUID=y
@@ -808,6 +812,7 @@ CONFIG_RTC_DRV_CMOS=y
 CONFIG_SECURITY_SELINUX_BOOTPARAM=y
 CONFIG_SECURITY_SELINUX_BOOTPARAM_VALUE=1
 CONFIG_SYSVIPC=y
+CONFIG_SYSVIPC_SYSCTL=y
 CONFIG_UTS_NS=y
 CONFIG_VT=y
 CONFIG_WATCHDOG_NOWAYOUT=y
@@ -818,7 +823,10 @@ CONFIG_MEMCG_KMEM=y
 
 # hybris: additional configs for systemd-nspawn and so on
 CONFIG_BRIDGE_NETFILTER=y
+CONFIG_NF_NAT_IPV4=y
 CONFIG_NF_NAT_IPV6=y
+CONFIG_NF_NAT_MASQUERADE_IPV6=y
+CONFIG_IP6_NF_NAT=y
 CONFIG_IP6_NF_TARGET_MASQUERADE=y
 CONFIG_NETFILTER_XT_TARGET_CHECKSUM=y
 CONFIG_UNIX_DIAG=y
@@ -827,17 +835,32 @@ CONFIG_NETLINK_DIAG=y
 CONFIG_DEVPTS_MULTIPLE_INSTANCES=y
 CONFIG_USER_NS=y
 CONFIG_CGROUP_NS=y
+CONFIG_CGROUP_PIDS=y
 CONFIG_MACVLAN=y
+CONFIG_VLAN=y
 CONFIG_VLAN_8021Q=y
 CONFIG_BLOCK=y
 CONFIG_SQUASHFS=y
-CONFIG_SQUASHFS_LZ4=y
+CONFIG_SQUASHFS_DECOMP_SINGLE=y
+# CONFIG_SQUASHFS_DECOMP_MULTI is not set
+# CONFIG_SQUASHFS_DECOMP_MULTI_PERCPU is not set
 CONFIG_SQUASHFS_XATTR=y
+CONFIG_SQUASHFS_ZLIB=y
+CONFIG_SQUASHFS_LZ4=y
+CONFIG_SQUASHFS_LZO=y
+CONFIG_SQUASHFS_XZ=y
+CONFIG_SQUASHFS_4K_DEVBLK_SIZE=y
+# CONFIG_SQUASHFS_EMBEDDED is not set
+CONFIG_SQUASHFS_FRAGMENT_CACHE_SIZE=3
 
 # hybris: additional filesystems which are useful
 CONFIG_BTRFS_FS=y
+CONFIG_BTRFS_FS_POSIX_ACL=y
 CONFIG_BLK_DEV_NBD=y
 CONFIG_XFS_FS=y
+CONFIG_XFS_POSIX_ACL=y
+CONFIG_HFSPLUS_FS=y
+CONFIG_HFSPLUS_FS_POSIX_ACL=y
 CONFIG_ISO9660_FS=y
 CONFIG_NFS_FS=y
 CONFIG_NFS_V3=y
@@ -877,3 +900,13 @@ CONFIG_RADIO_IRIS_TRANSPORT=y
 CONFIG_VIRTUALIZATION=y
 CONFIG_KVM=y
 
+# Others
+CONFIG_CGROUP_WRITEBACK=y
+CONFIG_CGROUP_DEBUG=y
+CONFIG_EVENTFD=y
+CONFIG_IP_SET=y
+CONFIG_CGROUP_NET_PRIO=y
+CONFIG_CGROUP_NET_CLASSID=y
+CONFIG_NET_SCH_FQ_CODEL=y
+CONFIG_BPF=y
+
-- 
2.39.2

